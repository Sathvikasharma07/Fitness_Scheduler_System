{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nlet ClassFormComponent = class ClassFormComponent {\n  constructor(formBuilder, classService, router) {\n    this.formBuilder = formBuilder;\n    this.classService = classService;\n    this.router = router;\n    this.isEditMode = false;\n    this.classId = null;\n    this.classForm = this.formBuilder.group({\n      name: ['', Validators.required],\n      description: ['', Validators.required],\n      duration: ['', [Validators.required, Validators.min(1)]],\n      capacity: ['', [Validators.required, Validators.min(1)]]\n    });\n  }\n\n  ngOnInit() {\n    this.checkEditMode();\n  }\n\n  checkEditMode() {\n    var _a, _b;\n\n    this.classId = (_b = (_a = this.router.getCurrentNavigation()) === null || _a === void 0 ? void 0 : _a.extras.state) === null || _b === void 0 ? void 0 : _b.classId;\n\n    if (this.classId) {\n      this.isEditMode = true;\n      this.loadClassData(this.classId);\n    }\n  }\n\n  loadClassData(id) {\n    this.classService.getClassById(id).subscribe(data => {\n      this.classForm.patchValue(data);\n    }, error => {\n      console.error('Error loading class data', error);\n    });\n  }\n\n  onSubmit() {\n    if (this.classForm.valid) {\n      if (this.isEditMode) {\n        this.classService.updateClass(this.classId, this.classForm.value).subscribe(() => {\n          this.router.navigate(['/classes']);\n        }, error => {\n          console.error('Error updating class', error);\n        });\n      } else {\n        this.classService.createClass(this.classForm.value).subscribe(() => {\n          this.router.navigate(['/classes']);\n        }, error => {\n          console.error('Error creating class', error);\n        });\n      }\n    }\n  }\n\n};\nClassFormComponent = __decorate([Component({\n  selector: 'app-class-form',\n  templateUrl: './class-form.component.html',\n  styleUrls: ['./class-form.component.css']\n})], ClassFormComponent);\nexport { ClassFormComponent };","map":null,"metadata":{},"sourceType":"module"}